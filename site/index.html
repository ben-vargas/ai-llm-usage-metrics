<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>llm-usage-metrics — Track local LLM telemetry</title>
  <meta name="description" content="CLI to aggregate and analyze token usage and costs from .pi, .codex, and OpenCode sessions.">
  <meta name="theme-color" content="#09090b">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23fafafa' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'><polyline points='4 17 10 11 4 5'/><line x1='12' y1='19' x2='20' y2='19'/></svg>">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Geist+Mono:wght@400;500;600&family=Geist:wght@300;400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
<!-- Hardware Accelerated Grain Base -->
<div class="bg-grain"></div>

<nav>
  <div class="nav-inner">
    <a href="#" class="nav-brand">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="4 17 10 11 4 5"/><line x1="12" y1="19" x2="20" y2="19"/></svg>
      <span>llm-usage-metrics</span>
    </a>
    <div class="nav-links">
      <a href="https://github.com/ayagmar/llm-usage-metrics" aria-label="GitHub">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 .5C5.37.5 0 5.78 0 12.29c0 5.21 3.44 9.63 8.21 11.19.6.11.82-.25.82-.57 0-.28-.01-1.02-.02-2-3.34.71-4.04-1.58-4.04-1.58-.55-1.36-1.33-1.72-1.33-1.72-1.09-.73.08-.72.08-.72 1.2.08 1.84 1.22 1.84 1.22 1.07 1.8 2.81 1.28 3.5.98.1-.76.42-1.28.76-1.58-2.67-.3-5.47-1.31-5.47-5.83 0-1.29.47-2.34 1.23-3.16-.12-.3-.53-1.5.12-3.12 0 0 1-.31 3.28 1.21A11.5 11.5 0 0 1 12 6.29c1.01.01 2.03.13 2.99.39 2.28-1.52 3.28-1.21 3.28-1.21.65 1.62.24 2.82.12 3.12.76.82 1.23 1.87 1.23 3.16 0 4.53-2.81 5.53-5.48 5.82.43.37.82 1.09.82 2.19 0 1.58-.02 2.86-.02 3.24 0 .32.22.68.82.57C20.57 21.92 24 17.5 24 12.29 24 5.78 18.63.5 12 .5z"/></svg>
      </a>
      <a href="https://www.npmjs.com/package/llm-usage-metrics" aria-label="npm">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M0 7.33v8h6.67v1.34H12v-1.34h12v-8H0zm6.67 6.67H5.33v-4H4v4H1.33V8.67h5.34v5.33zm4 0v1.33H8V8.67h5.33v5.33h-2.66zm12 0h-1.33v-4h-1.34v4h-1.33v-4h-1.33v4H16V8.67h8v5.33zM10.67 10H12v2.67h-1.33V10z"/></svg>
      </a>
    </div>
  </div>
</nav>

<main>

  <!-- ── ASYMMETRIC HERO ──────────────────────────────── -->
  <section class="hero-split">
    <div class="hero-content">
      <div class="badge loading" id="version-badge">
        <span class="status-dot"></span>
        <span class="badge-text">Initializing lookup...</span>
      </div>

      <h1>Quantify your local <br><em>inference</em> pipeline.</h1>

      <p class="lead">Deterministic parsing for your coding agent sessions. Aggregate token usage, apply LiteLLM pricing models, and generate actionable reports natively from <code>.pi</code>, <code>.codex</code>, and OpenCode workflows.</p>

      <div class="install" role="button" tabindex="0" aria-label="Copy install command">
        <div class="install-inner">
          <span class="dollar">$</span>
          <span class="cmd">npm install -g llm-usage-metrics</span>
        </div>
        <div class="install-action">
          <svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
        </div>
        <span class="toast" role="status" aria-live="polite" aria-atomic="true">Copied to clipboard</span>
      </div>
    </div>

    <!-- ── TERMINAL VISUAL ──────────────────────────── -->
    <div class="terminal-container">
      <div class="terminal liquid-glass">
        <div class="term-bar">
          <div class="term-dots">
            <span class="dot dot-r"></span>
            <span class="dot dot-y"></span>
            <span class="dot dot-g"></span>
          </div>
          <span class="term-title">~ / dev / llm-usage — Node.js</span>
        </div>
        <pre class="term-body">
<span class="td">$</span> <span class="tb">llm-usage monthly</span>

<span class="ti">ℹ</span> Discovered 24 session log(s) containing 156 completion event(s)
  <span class="tc">pi</span>: 14 target(s), 89 events
  <span class="tm">codex</span>: 6 target(s), 42 events
  <span class="to">opencode</span>: 4 database(s), 25 events
<span class="ti">ℹ</span> Cached pricing heuristics loaded

<span class="td">┌──────────────────────────────┐</span>
<span class="td">│</span><span class="t">  Monthly Token Usage Report  </span><span class="td">│</span>
<span class="td">└──────────────────────────────┘</span>

╭──────────┬──────────┬─────────────────────┬─────────┬─────────┬───────────┬─────────┬────────╮
│ <span class="tb">Period</span>   │ <span class="tb">Source</span>   │ <span class="tb">Models</span>              │   <span class="tb">Input</span> │  <span class="tb">Output</span> │ <span class="tb">Reasoning</span> │   <span class="tb">Total</span> │   <span class="tb">Cost</span> │
├──────────┼──────────┼─────────────────────┼─────────┼─────────┼───────────┼─────────┼────────┤
│ <span class="t">Feb 2026</span> │ <span class="tc">pi</span>       │ <span class="t">• claude-sonnet-4</span>   │ <span class="t">245,800</span> │  <span class="t">82,300</span> │    <span class="t">12,400</span> │ <span class="t">525,000</span> │ <span class="ty">$12.45</span> │
│          │          │ <span class="t">• gpt-4.1</span>           │         │         │           │         │        │
│ <span class="t">Feb 2026</span> │ <span class="tm">codex</span>    │ <span class="t">• gpt-4.1-codex</span>     │  <span class="t">98,200</span> │  <span class="t">34,100</span> │         <span class="t">0</span> │ <span class="t">186,100</span> │  <span class="ty">$4.82</span> │
│ <span class="t">Feb 2026</span> │ <span class="to">opencode</span> │ <span class="t">• gemini-2.5-pro</span>    │  <span class="t">42,500</span> │  <span class="t">18,900</span> │     <span class="t">8,200</span> │  <span class="t">69,600</span> │  <span class="ty">$1.95</span> │
├──────────┼──────────┼─────────────────────┼─────────┼─────────┼───────────┼─────────┼────────┤
│ <span class="tb">ALL</span>      │ <span class="tgb">TOTAL</span>    │ <span class="tb">• claude-sonnet-4</span>   │ <span class="tb">386,500</span> │ <span class="tb">135,300</span> │    <span class="tb">20,600</span> │ <span class="tb">780,700</span> │ <span class="tb">$19.22</span> │
│          │          │ <span class="tb">• gemini-2.5-pro</span>    │         │         │           │         │        │
│          │          │ <span class="tb">• gpt-4.1</span>           │         │         │           │         │        │
│          │          │ <span class="tb">• gpt-4.1-codex</span>     │         │         │           │         │        │
╰──────────┴──────────┴─────────────────────┴─────────┴─────────┴───────────┴─────────┴────────╯</pre>
      </div>
    </div>
  </section>

  <!-- ── BENTO GRID FEATURES ──────────────────────────── -->
  <section class="features bento-grid">
    <div class="bento-item wide liquid-glass">
      <div class="bento-content">
        <div class="fcard-icon">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></svg>
        </div>
        <h3>Zero-Config Discovery Engine</h3>
        <p>Intelligently scans your local file system. Autonomously locates <code>.pi</code> workspaces, <code>.codex</code> log directories, and OpenCode relational databases without requiring manual configuration or path wiring.</p>
      </div>
      <div class="bento-visual">
        <div class="infinite-scroll-y">
           <div class="log-line"><span class="ti">fs.scan</span> ~/.pi/sessions/2026-02-12.json</div>
           <div class="log-line"><span class="ti">fs.scan</span> ~/.codex/history.log</div>
           <div class="log-line"><span class="ti">sqlite.connect</span> ~/.opencode/metrics.db</div>
           <div class="log-line dim">... mapping 156 inference events</div>
           <div class="log-line dim">... schema normalization complete</div>
        </div>
      </div>
    </div>

    <div class="bento-item square liquid-glass">
      <div class="bento-content">
        <div class="fcard-icon">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
        </div>
        <h3>Dynamic Pricing Matrix</h3>
        <p>Synchronizes strictly with LiteLLM's pricing repository. Supports a robust offline-mode utilizing deterministic local caching for isolated environments.</p>
      </div>
    </div>

    <div class="bento-item square liquid-glass">
      <div class="bento-content">
        <div class="fcard-icon">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><line x1="9" y1="3" x2="9" y2="21"/></svg>
        </div>
        <h3>Structured Mutators</h3>
        <p>Emit highly formatted <code>JSON</code> for programmatic pipeline ingestion, raw <code>Markdown</code> for architectural documentation, or deterministic ANSI columns.</p>
      </div>
    </div>
  </section>

  <!-- ── EXAMPLES ──────────────────────────── -->
  <section class="examples">
    <div class="section-header">
      <h2>API Diagnostics</h2>
      <p class="sub">Deterministic arguments for precise reporting outputs.</p>
    </div>

    <div class="ex-container liquid-glass">
      <div class="ex-sidebar">
        <button class="ex-tab active" data-panel="ex-basics">Temporal Bounds</button>
        <button class="ex-tab" data-panel="ex-filter">Source Isolation</button>
        <button class="ex-tab" data-panel="ex-output">Output Targets</button>
        <button class="ex-tab" data-panel="ex-config">Daemon Config</button>
      </div>
      <div class="ex-content">
        <div id="ex-basics" class="ex-panel active">
          <pre class="ex-block"><span class="cmt"># Evaluate standard rolling daily window</span>
$ llm-usage <span class="flag">daily</span>

<span class="cmt"># Evaluate trailing week, enforcing localization bounds</span>
$ llm-usage <span class="flag">weekly</span> --timezone <span class="val">Europe/Paris</span>

<span class="cmt"># Strict arbitrary bounded period</span>
$ llm-usage <span class="flag">monthly</span> --since <span class="val">2026-01-01</span> --until <span class="val">2026-01-31</span></pre>
        </div>
        <div id="ex-filter" class="ex-panel">
          <pre class="ex-block"><span class="cmt"># Isolate telemetry strictly to selected engines</span>
$ llm-usage <span class="flag">monthly</span> --source <span class="val">pi,codex</span>

<span class="cmt"># Filter downstream pipelines by model family string</span>
$ llm-usage <span class="flag">monthly</span> --model <span class="val">claude</span>

<span class="cmt"># Filter by upstream provider origin</span>
$ llm-usage <span class="flag">monthly</span> --provider <span class="val">openai</span></pre>
        </div>
        <div id="ex-output" class="ex-panel">
          <pre class="ex-block"><span class="cmt"># Target stdout with unformatted JSON payload</span>
$ llm-usage <span class="flag">daily</span> --json

<span class="cmt"># Generate standard Markdown spec representation</span>
$ llm-usage <span class="flag">daily</span> --markdown

<span class="cmt"># Pivot visualization axes per distinct model schema</span>
$ llm-usage <span class="flag">monthly</span> --per-model-columns</pre>
        </div>
        <div id="ex-config" class="ex-panel">
          <pre class="ex-block"><span class="cmt"># Force hardcoded pathing overriding discovery engine</span>
$ llm-usage <span class="flag">daily</span> --pi-dir <span class="val">/var/lib/pi</span> --codex-dir <span class="val">/var/log/codex</span>

<span class="cmt"># Mount discrete opencode internal database</span>
$ llm-usage <span class="flag">daily</span> --opencode-db <span class="val">/mnt/data/opencode.db</span>

<span class="cmt"># Restrict outbound pricing synchronization</span>
$ llm-usage <span class="flag">monthly</span> --pricing-offline</pre>
        </div>
      </div>
    </div>
  </section>

</main>

<footer>
  <div class="footer-inner">
    <a href="https://github.com/ayagmar/llm-usage-metrics" class="footer-brand">llm-usage-metrics</a>
    <span class="separator">/</span>
    <span class="dim">MIT License</span>
    <span class="separator">/</span>
    <a href="https://github.com/ayagmar" class="footer-link">ayagmar</a>
  </div>
</footer>

<script src="main.js"></script>
</body>
</html>